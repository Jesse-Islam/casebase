{\rtf1\ansi\ansicpg1252\cocoartf1404\cocoasubrtf470
{\fonttbl\f0\fmodern\fcharset0 Courier;\f1\fmodern\fcharset0 Courier-Oblique;\f2\fmodern\fcharset0 Courier-Bold;
}
{\colortbl;\red255\green255\blue255;\red38\green38\blue38;}
\margl1440\margr1440\vieww22400\viewh17840\viewkind0
\deftab720
\pard\pardeftab720\sl300\sa240\partightenfactor0

\f0\fs48 \cf0 \expnd0\expndtw0\kerning0
ERSPC
\f1\i  data on the men in the European Randomized Study of Prostate Cancer Screening 
\f0\i0 \
Description \
This data set lists the individual observations for 159,893 men in the core age group between the ages of 55 and 69 years at entry.\
. \
\
Usage \
\pard\pardeftab720\sl300\partightenfactor0
\cf0     data(ERSPC)\
 \
\pard\pardeftab720\sl300\sa240\partightenfactor0
\cf0 Format \
A data frame with 159,893 observations on the following 3 variables. \
\
ScrArm:\
Whether in Screening Arm (1) or non-Screening arm (0) [numeric] \uc0\u8232 \
Follow.Up.Time:\
The time, measured in years from randomization, at which follow-up was terminated\
\uc0\u8232 DeadOfPrCa:\
Whether follow-up was terminated by Death from Prostate Cancer (1) or by death from other causes, or administratively (0)\
\
Details \
The men were recruited from seven European countries (centres). Each centre began recruitment at a different time, ranging from 1991 to 1998. The last entry was in December 2003. The uniform censoring date was December 31, 2006. The randomization ratio was 1:1 in six of the seven centres. In the seventh, Finland, the size of the screening group was fixed at 32,000 subjects. Because the whole birth cohort underwent randomization, this led to a ratio, for the screening group to the control group, of approximately 1 to 1.5, and to the non-screening arm being larger than the screening arm.\
\
Source \
The individual censored values were recovered by James Hanley from the Postcript code that the NEJM article (Schr\'f6der et al.) used to render Figure 2 (see Liu et al. for details). The uncensored values were more difficult to recover exactly, as the \'91jumps\'92 in the Nelson-Aalen plot are not as monotonic as first principles would imply. Thus, for each arm, the numbers of deaths in each 1-year time-bin were estimated from the differences in the cumulative incidence curves at years 1, 2, .. , applied to the numbers at risk within the time-interval. The death times were then distributed at random within each bin.\
\
The interested reader can \'92see\'92 the large numbers of individual censored values by zooming in on the original pdf Figure, and watching the Figure being re-rendered, or by printing the graph and watching the printer \'91pause\'92 while it superimposes several thousand dots (censored values) onto the curve. Watching these is what prompted JH to look at what lay \'91behind\'92 the curve. The curve itself can be drawn using fewer than 1000 line segments, and unless on peers into the PostScript) the almost 160,000 dots generated by Stata are invisible.  \
\
\pard\pardeftab720\partightenfactor0
\cf0 \
References\
\
Liu Z, Rich B, Hanley JA. Recovering the raw data behind a non-parametric survival curve. \ul \ulc2 Systematic Reviews\ulnone  2014 Dec 30;3:151. doi: 10.1186/2046-4053-3-151.\
\
\pard\pardeftab720\sl300\sa240\partightenfactor0
\cf0 Schr\'f6der FH, et al., for the ERSPC Investigators.Screening and Prostate-Cancer Mortality in a Randomized European Study. N Engl J Med 2009;360:1320-8. \
\pard\pardeftab720\partightenfactor0

\f2\b \cf0 \
###  Read in data\
\
\pard\tx816\tx1632\tx2448\tx3264\tx4080\tx4896\tx5712\tx6529\tx7345\tx8161\tx8977\tx9793\tx10609\tx11425\tx12242\tx13058\tx13874\tx14690\tx15506\tx16322\tx17138\tx17954\tx18771\tx19587\tx20403\tx21219\tx22035\tx22851\tx23667\tx24483\tx25300\tx26116\tx26932\tx27748\tx28564\tx29380\tx30196\tx31013\tx31829\tx32645\tx33461\tx34277\tx35093\tx35909\tx36725\tx37542\tx38358\tx39174\tx39990\tx40806\tx41622\tx42438\tx43255\tx44071\tx44887\tx45703\tx46519\tx47335\tx48151\tx48967\tx49784\tx50600\tx51416\tx52232\pardeftab720\li80\fi-80\pardirnatural\partightenfactor0

\f0\b0 \cf0 \kerning1\expnd0\expndtw0 ds=read.csv("ERSPCindividualData.csv")\
str(ds); head(ds)\
\
\pard\pardeftab720\partightenfactor0

\f2\b \cf0 \expnd0\expndtw0\kerning0
\
###  cumulative incidence plots\
\pard\tx816\tx1632\tx2448\tx3264\tx4080\tx4896\tx5712\tx6529\tx7345\tx8161\tx8977\tx9793\tx10609\tx11425\tx12242\tx13058\tx13874\tx14690\tx15506\tx16322\tx17138\tx17954\tx18771\tx19587\tx20403\tx21219\tx22035\tx22851\tx23667\tx24483\tx25300\tx26116\tx26932\tx27748\tx28564\tx29380\tx30196\tx31013\tx31829\tx32645\tx33461\tx34277\tx35093\tx35909\tx36725\tx37542\tx38358\tx39174\tx39990\tx40806\tx41622\tx42438\tx43255\tx44071\tx44887\tx45703\tx46519\tx47335\tx48151\tx48967\tx49784\tx50600\tx51416\tx52232\pardeftab720\li80\fi-80\pardirnatural\partightenfactor0

\f0\b0 \cf0 \kerning1\expnd0\expndtw0 \
library(survival)\
\
KM=survfit(Surv(Follow.Up.Time,DeadOfPrCa)~ScrArm,data=ds)\
\
str(KM)\
\
par(mfrow=c(1,1),mar = c(5,5,0.1,0.1))\
\
plot(KM$time[    1: 1501], 1-KM$surv[   1:1501], type="s", col="red" ,\
  ylab = "Risk", xlab="Years since Randomization")\
lines(KM$time[1502: 2923], 1-KM$surv[1502: 2923], type="s", col="green" )\
\
\
\pard\pardeftab720\partightenfactor0

\f2\b \cf0 \expnd0\expndtw0\kerning0
###  PopulationTime plots\
\pard\tx816\tx1632\tx2448\tx3264\tx4080\tx4896\tx5712\tx6529\tx7345\tx8161\tx8977\tx9793\tx10609\tx11425\tx12242\tx13058\tx13874\tx14690\tx15506\tx16322\tx17138\tx17954\tx18771\tx19587\tx20403\tx21219\tx22035\tx22851\tx23667\tx24483\tx25300\tx26116\tx26932\tx27748\tx28564\tx29380\tx30196\tx31013\tx31829\tx32645\tx33461\tx34277\tx35093\tx35909\tx36725\tx37542\tx38358\tx39174\tx39990\tx40806\tx41622\tx42438\tx43255\tx44071\tx44887\tx45703\tx46519\tx47335\tx48151\tx48967\tx49784\tx50600\tx51416\tx52232\pardeftab720\li80\fi-80\pardirnatural\partightenfactor0

\f0\b0 \cf0 \kerning1\expnd0\expndtw0 \
\
par(mfrow=c(1,1),mar = c(0.01,0.01,0.1,0.1))\
\
plot(c(-0.5,15.75),c(-93000,80000), col="white" )\
set.seed(7654321)\
\
OFF = 2000\
\
\
for(i in 0:1) \{\
	t=seq(0.01,14.9,0.01)\
	S = function(x) sum(ds$Follow.Up.Time[ds$ScrArm==i] >= x)  \
	n = unlist(lapply(t,"S"))\
	if(i==1) yy =  c(0,n,0) + OFF\
	if(i==0) yy =  c(0,-n,0) - OFF\
	polygon(c(0,t,14.9),yy,col="grey80",border=NA)\
    \
    t.d = ds$Follow.Up.Time[ds$ScrArm==i & ds$DeadOfPrCa==1]\
	\
	for( j in 1:length(t.d) ) \{\
		time.index =  ceiling(t.d[j]/0.01)\
		nn   = n[ time.index ]\
		if(i==1) h = runif(1,0.01*nn,0.99*nn)  + OFF\
		if(i==0) h = runif(1,-0.99*nn,-0.01*nn) - OFF\
		points(t.d[j],h, pch=19,cex=0.25,col="red")\
	\}\
\}\
\
for (t in 1:15) text(t,0,toString(t), cex=0.75)\
text(15.25,0,"Year", cex=0.75,adj=c(0,0.5))\
\
for (n in seq(0,90000,10000)) \{\
	if(n> 0 & n < 80000) text(-0.1,n+OFF,format(n,big.mark=","), cex=0.75,adj=c(1,0.5))\
	if(n> 0) text(-0.1,-n-OFF,format(n,big.mark=","), cex=0.75,adj=c(1,0.5))\
	segments(-0.05,  n+OFF, 0, n+OFF , lwd=0.5)\
	segments(-0.05, -n-OFF, 0, -n-OFF, lwd=0.5 )\
\
\} \
text(4, 70000+OFF,"Screening Arm of ERSPC", cex=1,adj=c(0,0.5))\
text(4,-85000-OFF,"No-Screening Arm", cex=1,adj=c(0,0.5))\
\
text(-0.75,78000+OFF,"Number of\
Men being Followed", cex=1,adj=c(0,0.5))\
h = 50000+OFF\
points(9.5,h, pch=19,cex=0.25,col="red")\
text(9.6,h,"Death from Prostate Cancer", adj=c(0,0.5))\
\
\
\pard\pardeftab720\sl300\sa240\partightenfactor0
\cf0 \expnd0\expndtw0\kerning0
The randomization of the Finnish cohorts were carried out on January 1 of each of the 4 years 1996 to 1999. This, coupled with the uniform December 31 2006 censoring date, lead to large numbers of men with exactly 11, 10, 9 or 8 years of follow-up.\
\
Tracked backwards in time (i.e. from right to left) , the PopulationTime plot shows the recruitment pattern from its beginning in 1991, and in particular the Jan 1 entries in successive years. \
\
Tracked forwards in time (i.e. from left to right), the plot for the first three years shows attrition due entirely to death (mainly from other causes). Since the Swedish and Belgian centres were the last to close their recruitment \'97 in December 2003 \'97 the minimum potential follow-up is three years. Tracked further forwards in time (i.e. after year 3) the attrition is a combination of deaths and staggered entries.\
 \kerning1\expnd0\expndtw0 \
\pard\tx816\tx1632\tx2448\tx3264\tx4080\tx4896\tx5712\tx6529\tx7345\tx8161\tx8977\tx9793\tx10609\tx11425\tx12242\tx13058\tx13874\tx14690\tx15506\tx16322\tx17138\tx17954\tx18771\tx19587\tx20403\tx21219\tx22035\tx22851\tx23667\tx24483\tx25300\tx26116\tx26932\tx27748\tx28564\tx29380\tx30196\tx31013\tx31829\tx32645\tx33461\tx34277\tx35093\tx35909\tx36725\tx37542\tx38358\tx39174\tx39990\tx40806\tx41622\tx42438\tx43255\tx44071\tx44887\tx45703\tx46519\tx47335\tx48151\tx48967\tx49784\tx50600\tx51416\tx52232\pardeftab720\li80\fi-80\pardirnatural\partightenfactor0
\cf0 \
}